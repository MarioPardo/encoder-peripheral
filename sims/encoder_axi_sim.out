#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x10fe2a410 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x10fe2a580 .scope module, "tb_encoder_axi" "tb_encoder_axi" 3 3;
 .timescale -9 -12;
v0x10fe3bf00_0 .var "aclk", 0 0;
v0x10fe3bf90_0 .var "ar_addr", 31 0;
v0x10fe37e80_0 .net "ar_ready", 0 0, v0x10fe3a2b0_0;  1 drivers
v0x10fe3c060_0 .var "ar_valid", 0 0;
v0x10fe3c110_0 .var "aresetn", 0 0;
v0x10fe3c1e0_0 .var "aw_addr", 31 0;
v0x10fe3c290_0 .net "aw_ready", 0 0, v0x10fe3a360_0;  1 drivers
v0x10fe3c340_0 .var "aw_valid", 0 0;
v0x10fe3c3f0_0 .var "b_ready", 0 0;
v0x10fe3c500_0 .net "b_resp", 1 0, v0x10fe3a400_0;  1 drivers
v0x10fe3c590_0 .net "b_valid", 0 0, v0x10fe3a490_0;  1 drivers
v0x10fe3c620_0 .var "enc_a", 0 0;
v0x10fe3c6b0_0 .var "enc_b", 0 0;
v0x10fe3c740_0 .net "r_data", 31 0, v0x10fe3a520_0;  1 drivers
v0x10fe3c7f0_0 .var "r_ready", 0 0;
v0x10fe3c8a0_0 .net "r_resp", 1 0, v0x10fe3a600_0;  1 drivers
v0x10fe3c950_0 .net "r_valid", 0 0, v0x10fe3a6b0_0;  1 drivers
v0x10fe3cb00_0 .var "w_data", 31 0;
v0x10fe3cb90_0 .net "w_ready", 0 0, v0x10fe3a750_0;  1 drivers
v0x10fe3cc20_0 .var "w_strb", 3 0;
v0x10fe3ccb0_0 .var "w_valid", 0 0;
S_0x10fe2a6f0 .scope task, "axi_read" "axi_read" 3 101, 3 101 0, S_0x10fe2a580;
 .timescale -9 -12;
v0x10fe21680_0 .var "addr", 31 0;
E_0x10fe219d0 .event posedge, v0x10fe38fa0_0;
E_0x10fe22820 .event anyedge, v0x10fe3a6b0_0;
E_0x10fe22c60 .event anyedge, v0x10fe3a2b0_0;
TD_tb_encoder_axi.axi_read ;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %load/vec4 v0x10fe21680_0;
    %store/vec4 v0x10fe3bf90_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c060_0, 0, 1;
T_0.0 ;
    %load/vec4 v0x10fe37e80_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_0.1, 6;
    %wait E_0x10fe22c60;
    %jmp T_0.0;
T_0.1 ;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c060_0, 0, 1;
T_0.2 ;
    %load/vec4 v0x10fe3c950_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_0.3, 6;
    %wait E_0x10fe22820;
    %jmp T_0.2;
T_0.3 ;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c7f0_0, 0, 1;
    %load/vec4 v0x10fe3c8a0_0;
    %cmpi/e 0, 0, 2;
    %flag_mov 8, 4;
    %jmp/0 T_0.4, 8;
    %pushi/vec4 20299, 0, 32; draw_string_vec4
    %pushi/vec4 16729, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_0.5, 8;
T_0.4 ; End of true expr.
    %pushi/vec4 1397511749, 0, 32; draw_string_vec4
    %pushi/vec4 21074, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_0.5, 8;
 ; End of false expr.
    %blend;
T_0.5;
    %vpi_call/w 3 119 "$display", "AXI READ: addr=0x%h, data=0x%h, resp=%s", v0x10fe21680_0, v0x10fe3c740_0, S<0,vec4,u48> {1 0 0};
    %wait E_0x10fe219d0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c7f0_0, 0, 1;
    %end;
S_0x10fe37300 .scope task, "axi_write" "axi_write" 3 69, 3 69 0, S_0x10fe2a580;
 .timescale -9 -12;
v0x10fe37570_0 .var "addr", 31 0;
v0x10fe37630_0 .var "data", 31 0;
E_0x10fe374d0 .event anyedge, v0x10fe3a490_0;
E_0x10fe37520 .event anyedge, v0x10fe3a360_0, v0x10fe3a750_0;
TD_tb_encoder_axi.axi_write ;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %load/vec4 v0x10fe37570_0;
    %store/vec4 v0x10fe3c1e0_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c340_0, 0, 1;
    %load/vec4 v0x10fe37630_0;
    %store/vec4 v0x10fe3cb00_0, 0, 32;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x10fe3cc20_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3ccb0_0, 0, 1;
T_1.6 ;
    %load/vec4 v0x10fe3c290_0;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_1.8, 8;
    %load/vec4 v0x10fe3cb90_0;
    %and;
T_1.8;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_1.7, 6;
    %wait E_0x10fe37520;
    %jmp T_1.6;
T_1.7 ;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c340_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3ccb0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c3f0_0, 0, 1;
T_1.9 ;
    %load/vec4 v0x10fe3c590_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_1.10, 6;
    %wait E_0x10fe374d0;
    %jmp T_1.9;
T_1.10 ;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c3f0_0, 0, 1;
    %load/vec4 v0x10fe3c500_0;
    %cmpi/e 0, 0, 2;
    %flag_mov 8, 4;
    %jmp/0 T_1.11, 8;
    %pushi/vec4 20299, 0, 32; draw_string_vec4
    %pushi/vec4 16729, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_1.12, 8;
T_1.11 ; End of true expr.
    %pushi/vec4 1397511749, 0, 32; draw_string_vec4
    %pushi/vec4 21074, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_1.12, 8;
 ; End of false expr.
    %blend;
T_1.12;
    %vpi_call/w 3 95 "$display", "AXI WRITE: addr=0x%h, data=0x%h, resp=%s", v0x10fe37570_0, v0x10fe37630_0, S<0,vec4,u48> {1 0 0};
    %end;
S_0x10fe376e0 .scope module, "dut" "encoder_axi" 3 41, 4 8 0, S_0x10fe2a580;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "aclk";
    .port_info 1 /INPUT 1 "aresetn";
    .port_info 2 /INPUT 1 "enc_a";
    .port_info 3 /INPUT 1 "enc_b";
    .port_info 4 /INPUT 32 "aw_addr";
    .port_info 5 /INPUT 1 "aw_valid";
    .port_info 6 /OUTPUT 1 "AW_READY";
    .port_info 7 /INPUT 32 "w_data";
    .port_info 8 /INPUT 4 "w_strb";
    .port_info 9 /INPUT 1 "w_valid";
    .port_info 10 /OUTPUT 1 "W_READY";
    .port_info 11 /OUTPUT 2 "B_RESP";
    .port_info 12 /OUTPUT 1 "B_VALID";
    .port_info 13 /INPUT 1 "b_ready";
    .port_info 14 /INPUT 32 "ar_addr";
    .port_info 15 /INPUT 1 "ar_valid";
    .port_info 16 /OUTPUT 1 "AR_READY";
    .port_info 17 /OUTPUT 32 "R_DATA";
    .port_info 18 /OUTPUT 2 "R_RESP";
    .port_info 19 /OUTPUT 1 "R_VALID";
    .port_info 20 /INPUT 1 "r_ready";
P_0x10fe378c0 .param/l "RESP_DECERR" 1 4 49, C4<11>;
P_0x10fe37900 .param/l "RESP_EXOKAY" 1 4 47, C4<01>;
P_0x10fe37940 .param/l "RESP_OKAY" 1 4 46, C4<00>;
P_0x10fe37980 .param/l "RESP_SLVERR" 1 4 48, C4<10>;
P_0x10fe379c0 .param/l "r_s_idle" 1 4 182, C4<00>;
P_0x10fe37a00 .param/l "r_s_read" 1 4 183, C4<01>;
P_0x10fe37a40 .param/l "r_s_resp" 1 4 184, C4<10>;
P_0x10fe37a80 .param/l "w_s_idle" 1 4 75, C4<00>;
P_0x10fe37ac0 .param/l "w_s_response" 1 4 77, C4<10>;
P_0x10fe37b00 .param/l "w_s_write" 1 4 76, C4<01>;
L_0x10fe3cd40 .functor NOT 1, v0x10fe3c110_0, C4<0>, C4<0>, C4<0>;
v0x10fe3a2b0_0 .var "AR_READY", 0 0;
v0x10fe3a360_0 .var "AW_READY", 0 0;
v0x10fe3a400_0 .var "B_RESP", 1 0;
v0x10fe3a490_0 .var "B_VALID", 0 0;
v0x10fe3a520_0 .var "R_DATA", 31 0;
v0x10fe3a600_0 .var "R_RESP", 1 0;
v0x10fe3a6b0_0 .var "R_VALID", 0 0;
v0x10fe3a750_0 .var "W_READY", 0 0;
L_0x128040010 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x10fe3a7f0_0 .net/2u *"_ivl_2", 1 0, L_0x128040010;  1 drivers
L_0x128040058 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x10fe3a900_0 .net/2u *"_ivl_6", 1 0, L_0x128040058;  1 drivers
v0x10fe3a9b0_0 .net "aclk", 0 0, v0x10fe3bf00_0;  1 drivers
v0x10fe3aa40_0 .net "ar_addr", 31 0, v0x10fe3bf90_0;  1 drivers
v0x10fe3aaf0_0 .net "ar_valid", 0 0, v0x10fe3c060_0;  1 drivers
v0x10fe3ab90_0 .net "aresetn", 0 0, v0x10fe3c110_0;  1 drivers
v0x10fe3ac30_0 .net "aw_addr", 31 0, v0x10fe3c1e0_0;  1 drivers
v0x10fe3ace0_0 .net "aw_valid", 0 0, v0x10fe3c340_0;  1 drivers
v0x10fe3ad80_0 .net "b_ready", 0 0, v0x10fe3c3f0_0;  1 drivers
v0x10fe3af10_0 .var "bus_addr", 31 0;
v0x10fe3afc0_0 .net "bus_rdata", 31 0, v0x10fe39960_0;  1 drivers
v0x10fe3b050_0 .var "bus_re", 0 0;
v0x10fe3b0e0_0 .var "bus_wdata", 31 0;
v0x10fe3b170_0 .var "bus_we", 0 0;
v0x10fe3b200_0 .net "enc_a", 0 0, v0x10fe3c620_0;  1 drivers
v0x10fe3b2d0_0 .net "enc_b", 0 0, v0x10fe3c6b0_0;  1 drivers
v0x10fe3b3a0_0 .var "r_addr_latched", 31 0;
v0x10fe3b430_0 .net "r_ready", 0 0, v0x10fe3c7f0_0;  1 drivers
v0x10fe3b4c0_0 .net "read_busy", 0 0, L_0x10fe3cf30;  1 drivers
v0x10fe3b550_0 .var "read_state", 1 0;
v0x10fe3b5f0_0 .var "read_state_next", 1 0;
v0x10fe3b6a0_0 .var "w_addr_latched", 31 0;
v0x10fe3b750_0 .net "w_data", 31 0, v0x10fe3cb00_0;  1 drivers
v0x10fe3b800_0 .var "w_data_latched", 31 0;
v0x10fe3b8b0_0 .net "w_strb", 3 0, v0x10fe3cc20_0;  1 drivers
v0x10fe3ae30_0 .net "w_valid", 0 0, v0x10fe3ccb0_0;  1 drivers
v0x10fe3bb40_0 .net "write_busy", 0 0, L_0x10fe3ce30;  1 drivers
v0x10fe3bbd0_0 .var "write_state", 1 0;
v0x10fe3bc60_0 .var "write_state_next", 1 0;
E_0x10fe38110 .event anyedge, v0x10fe3b550_0, v0x10fe3aaf0_0, v0x10fe3bb40_0, v0x10fe3b430_0;
E_0x10fe38170/0 .event anyedge, v0x10fe3bbd0_0, v0x10fe3ace0_0, v0x10fe3ae30_0, v0x10fe3b4c0_0;
E_0x10fe38170/1 .event anyedge, v0x10fe3ad80_0;
E_0x10fe38170 .event/or E_0x10fe38170/0, E_0x10fe38170/1;
L_0x10fe3ce30 .cmp/ne 2, v0x10fe3bbd0_0, L_0x128040010;
L_0x10fe3cf30 .cmp/ne 2, v0x10fe3b550_0, L_0x128040058;
S_0x10fe381e0 .scope module, "mmio_inst" "encoder_mmio" 4 60, 5 1 0, S_0x10fe376e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 32 "bus_addr";
    .port_info 3 /INPUT 1 "bus_we";
    .port_info 4 /INPUT 1 "bus_re";
    .port_info 5 /INPUT 32 "bus_wdata";
    .port_info 6 /OUTPUT 32 "bus_rdata";
    .port_info 7 /INPUT 1 "enc_a";
    .port_info 8 /INPUT 1 "enc_b";
P_0x10fe383b0 .param/l "CTRL_CLR_POS" 1 5 25, +C4<00000000000000000000000000000001>;
P_0x10fe383f0 .param/l "CTRL_ENABLE" 1 5 24, +C4<00000000000000000000000000000000>;
P_0x10fe38430 .param/l "REG_CTRL" 1 5 18, C4<00000000000000000000000000000000>;
P_0x10fe38470 .param/l "REG_POSITION" 1 5 20, C4<00000000000000000000000000001000>;
P_0x10fe384b0 .param/l "REG_STATUS" 1 5 19, C4<00000000000000000000000000000100>;
P_0x10fe384f0 .param/l "REG_VELOCITY" 1 5 21, C4<00000000000000000000000000001100>;
v0x10fe398d0_0 .net "bus_addr", 31 0, v0x10fe3af10_0;  1 drivers
v0x10fe39960_0 .var "bus_rdata", 31 0;
v0x10fe399f0_0 .net "bus_re", 0 0, v0x10fe3b050_0;  1 drivers
v0x10fe39a80_0 .net "bus_wdata", 31 0, v0x10fe3b0e0_0;  1 drivers
v0x10fe39b10_0 .net "bus_we", 0 0, v0x10fe3b170_0;  1 drivers
v0x10fe39bf0_0 .net "clk", 0 0, v0x10fe3bf00_0;  alias, 1 drivers
v0x10fe39c80_0 .var "clr_pos_pulse", 0 0;
v0x10fe39d30_0 .net "direction", 0 0, v0x10fe39100_0;  1 drivers
v0x10fe39de0_0 .var "enable_reg", 0 0;
v0x10fe39ef0_0 .net "enc_a", 0 0, v0x10fe3c620_0;  alias, 1 drivers
v0x10fe39f80_0 .net "enc_b", 0 0, v0x10fe3c6b0_0;  alias, 1 drivers
v0x10fe3a010_0 .net/s "position", 31 0, v0x10fe393e0_0;  1 drivers
v0x10fe3a0c0_0 .net "reset", 0 0, L_0x10fe3cd40;  1 drivers
v0x10fe3a170_0 .net/s "velocity", 31 0, v0x10fe39690_0;  1 drivers
S_0x10fe38920 .scope module, "dut" "encoder_core" 5 37, 6 1 0, S_0x10fe381e0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 1 "clr_pos";
    .port_info 3 /INPUT 1 "enable";
    .port_info 4 /INPUT 1 "enc_a";
    .port_info 5 /INPUT 1 "enc_b";
    .port_info 6 /OUTPUT 32 "position";
    .port_info 7 /OUTPUT 32 "velocity";
    .port_info 8 /OUTPUT 1 "direction";
P_0x10fe38af0 .param/l "WINDOW_CYCLES" 0 6 2, +C4<00000101111101011110000100000000>;
v0x10fe38d20_0 .var "ab_curr", 1 0;
v0x10fe38de0_0 .var "ab_prev", 1 0;
v0x10fe38e80_0 .var "ab_sync1", 1 0;
v0x10fe38f10_0 .var "ab_sync2", 1 0;
v0x10fe38fa0_0 .net "clk", 0 0, v0x10fe3bf00_0;  alias, 1 drivers
v0x10fe39070_0 .net "clr_pos", 0 0, v0x10fe39c80_0;  1 drivers
v0x10fe39100_0 .var "direction", 0 0;
v0x10fe391a0_0 .net "enable", 0 0, v0x10fe39de0_0;  1 drivers
v0x10fe39240_0 .net "enc_a", 0 0, v0x10fe3c620_0;  alias, 1 drivers
v0x10fe39350_0 .net "enc_b", 0 0, v0x10fe3c6b0_0;  alias, 1 drivers
v0x10fe393e0_0 .var/s "position", 31 0;
v0x10fe39490_0 .var/s "position_prev_window", 31 0;
v0x10fe39540_0 .net "reset", 0 0, L_0x10fe3cd40;  alias, 1 drivers
v0x10fe395e0_0 .var/s "step", 1 0;
v0x10fe39690_0 .var/s "velocity", 31 0;
v0x10fe39740_0 .var "window_ctr", 31 0;
E_0x10fe38cc0 .event anyedge, v0x10fe38de0_0, v0x10fe38d20_0;
    .scope S_0x10fe38920;
T_2 ;
    %wait E_0x10fe38cc0;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %load/vec4 v0x10fe38de0_0;
    %load/vec4 v0x10fe38d20_0;
    %concat/vec4; draw_concat_vec4
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_2.0, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_2.1, 6;
    %dup/vec4;
    %pushi/vec4 14, 0, 4;
    %cmp/u;
    %jmp/1 T_2.2, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_2.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_2.4, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_2.5, 6;
    %dup/vec4;
    %pushi/vec4 13, 0, 4;
    %cmp/u;
    %jmp/1 T_2.6, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_2.7, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.0 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.1 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.2 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.3 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.4 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.5 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.6 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.7 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x10fe395e0_0, 0, 2;
    %jmp T_2.9;
T_2.9 ;
    %pop/vec4 1;
    %jmp T_2;
    .thread T_2, $push;
    .scope S_0x10fe38920;
T_3 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe39540_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe38e80_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe38f10_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe38de0_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe38d20_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39740_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39490_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39690_0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/vec4 v0x10fe39240_0;
    %load/vec4 v0x10fe39350_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x10fe38e80_0, 0;
    %load/vec4 v0x10fe38e80_0;
    %assign/vec4 v0x10fe38f10_0, 0;
    %load/vec4 v0x10fe38d20_0;
    %assign/vec4 v0x10fe38de0_0, 0;
    %load/vec4 v0x10fe38f10_0;
    %assign/vec4 v0x10fe38d20_0, 0;
    %load/vec4 v0x10fe391a0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.2, 8;
    %load/vec4 v0x10fe39740_0;
    %cmpi/e 99999999, 0, 32;
    %jmp/0xz  T_3.4, 4;
    %load/vec4 v0x10fe393e0_0;
    %load/vec4 v0x10fe39490_0;
    %sub;
    %assign/vec4 v0x10fe39690_0, 0;
    %load/vec4 v0x10fe393e0_0;
    %assign/vec4 v0x10fe39490_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39740_0, 0;
    %jmp T_3.5;
T_3.4 ;
    %load/vec4 v0x10fe39740_0;
    %addi 1, 0, 32;
    %assign/vec4 v0x10fe39740_0, 0;
T_3.5 ;
T_3.2 ;
T_3.1 ;
    %jmp T_3;
    .thread T_3;
    .scope S_0x10fe38920;
T_4 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe39540_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe393e0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe39100_0, 0;
    %jmp T_4.1;
T_4.0 ;
    %load/vec4 v0x10fe39070_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.2, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe393e0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe39100_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39690_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39740_0, 0;
    %jmp T_4.3;
T_4.2 ;
    %load/vec4 v0x10fe391a0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.4, 8;
    %load/vec4 v0x10fe393e0_0;
    %load/vec4 v0x10fe395e0_0;
    %pad/s 32;
    %add;
    %assign/vec4 v0x10fe393e0_0, 0;
    %load/vec4 v0x10fe395e0_0;
    %pad/s 32;
    %cmpi/e 1, 0, 32;
    %jmp/0xz  T_4.6, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe39100_0, 0;
    %jmp T_4.7;
T_4.6 ;
    %load/vec4 v0x10fe395e0_0;
    %pad/s 32;
    %cmpi/e 4294967295, 0, 32;
    %jmp/0xz  T_4.8, 4;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe39100_0, 0;
T_4.8 ;
T_4.7 ;
T_4.4 ;
T_4.3 ;
T_4.1 ;
    %jmp T_4;
    .thread T_4;
    .scope S_0x10fe381e0;
T_5 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3a0c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe39de0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe39c80_0, 0;
    %jmp T_5.1;
T_5.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe39c80_0, 0;
    %load/vec4 v0x10fe39b10_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.2, 8;
    %load/vec4 v0x10fe398d0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 0, 0, 8;
    %jmp/0xz  T_5.4, 4;
    %load/vec4 v0x10fe39a80_0;
    %parti/s 1, 0, 2;
    %assign/vec4 v0x10fe39de0_0, 0;
    %load/vec4 v0x10fe39a80_0;
    %parti/s 1, 1, 2;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.6, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe39c80_0, 0;
T_5.6 ;
T_5.4 ;
T_5.2 ;
T_5.1 ;
    %jmp T_5;
    .thread T_5;
    .scope S_0x10fe381e0;
T_6 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3a0c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39960_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x10fe399f0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.2, 8;
    %load/vec4 v0x10fe398d0_0;
    %parti/s 8, 0, 2;
    %dup/vec4;
    %pushi/vec4 0, 0, 8;
    %cmp/u;
    %jmp/1 T_6.4, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 8;
    %cmp/u;
    %jmp/1 T_6.5, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 8;
    %cmp/u;
    %jmp/1 T_6.6, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 8;
    %cmp/u;
    %jmp/1 T_6.7, 6;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe39960_0, 0;
    %jmp T_6.9;
T_6.4 ;
    %pushi/vec4 0, 0, 30;
    %concati/vec4 0, 0, 1;
    %load/vec4 v0x10fe39de0_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x10fe39960_0, 0;
    %jmp T_6.9;
T_6.5 ;
    %pushi/vec4 0, 0, 31;
    %load/vec4 v0x10fe39d30_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x10fe39960_0, 0;
    %jmp T_6.9;
T_6.6 ;
    %load/vec4 v0x10fe3a010_0;
    %assign/vec4 v0x10fe39960_0, 0;
    %jmp T_6.9;
T_6.7 ;
    %load/vec4 v0x10fe3a170_0;
    %assign/vec4 v0x10fe39960_0, 0;
    %jmp T_6.9;
T_6.9 ;
    %pop/vec4 1;
T_6.2 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x10fe376e0;
T_7 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3ab90_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe3bbd0_0, 0;
    %jmp T_7.1;
T_7.0 ;
    %load/vec4 v0x10fe3bc60_0;
    %assign/vec4 v0x10fe3bbd0_0, 0;
T_7.1 ;
    %jmp T_7;
    .thread T_7;
    .scope S_0x10fe376e0;
T_8 ;
    %wait E_0x10fe38170;
    %load/vec4 v0x10fe3bbd0_0;
    %store/vec4 v0x10fe3bc60_0, 0, 2;
    %load/vec4 v0x10fe3bbd0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_8.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_8.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_8.2, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x10fe3bc60_0, 0, 2;
    %jmp T_8.4;
T_8.0 ;
    %load/vec4 v0x10fe3ace0_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_8.8, 10;
    %load/vec4 v0x10fe3ae30_0;
    %and;
T_8.8;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_8.7, 9;
    %load/vec4 v0x10fe3b4c0_0;
    %inv;
    %and;
T_8.7;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.5, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x10fe3bc60_0, 0, 2;
T_8.5 ;
    %jmp T_8.4;
T_8.1 ;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x10fe3bc60_0, 0, 2;
    %jmp T_8.4;
T_8.2 ;
    %load/vec4 v0x10fe3ad80_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.9, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x10fe3bc60_0, 0, 2;
T_8.9 ;
    %jmp T_8.4;
T_8.4 ;
    %pop/vec4 1;
    %jmp T_8;
    .thread T_8, $push;
    .scope S_0x10fe376e0;
T_9 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3ab90_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a360_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a750_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a490_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe3a400_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3b170_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe3b6a0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe3b800_0, 0;
    %jmp T_9.1;
T_9.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a360_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a750_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3b170_0, 0;
    %load/vec4 v0x10fe3bbd0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_9.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_9.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_9.4, 6;
    %jmp T_9.5;
T_9.2 ;
    %load/vec4 v0x10fe3ace0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_9.8, 9;
    %load/vec4 v0x10fe3ae30_0;
    %and;
T_9.8;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.6, 8;
    %load/vec4 v0x10fe3ac30_0;
    %assign/vec4 v0x10fe3b6a0_0, 0;
    %load/vec4 v0x10fe3b750_0;
    %assign/vec4 v0x10fe3b800_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3a360_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3a750_0, 0;
T_9.6 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a490_0, 0;
    %jmp T_9.5;
T_9.3 ;
    %load/vec4 v0x10fe3b6a0_0;
    %assign/vec4 v0x10fe3af10_0, 0;
    %load/vec4 v0x10fe3b800_0;
    %assign/vec4 v0x10fe3b0e0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3b170_0, 0;
    %load/vec4 v0x10fe3b6a0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 0, 0, 8;
    %jmp/0xz  T_9.9, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe3a400_0, 0;
    %jmp T_9.10;
T_9.9 ;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x10fe3a400_0, 0;
T_9.10 ;
    %jmp T_9.5;
T_9.4 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3a490_0, 0;
    %jmp T_9.5;
T_9.5 ;
    %pop/vec4 1;
T_9.1 ;
    %jmp T_9;
    .thread T_9;
    .scope S_0x10fe376e0;
T_10 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3ab90_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe3b550_0, 0;
    %jmp T_10.1;
T_10.0 ;
    %load/vec4 v0x10fe3b5f0_0;
    %assign/vec4 v0x10fe3b550_0, 0;
T_10.1 ;
    %jmp T_10;
    .thread T_10;
    .scope S_0x10fe376e0;
T_11 ;
    %wait E_0x10fe38110;
    %load/vec4 v0x10fe3b550_0;
    %store/vec4 v0x10fe3b5f0_0, 0, 2;
    %load/vec4 v0x10fe3b550_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_11.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_11.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_11.2, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x10fe3b5f0_0, 0, 2;
    %jmp T_11.4;
T_11.0 ;
    %load/vec4 v0x10fe3aaf0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_11.7, 9;
    %load/vec4 v0x10fe3bb40_0;
    %inv;
    %and;
T_11.7;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.5, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x10fe3b5f0_0, 0, 2;
T_11.5 ;
    %jmp T_11.4;
T_11.1 ;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x10fe3b5f0_0, 0, 2;
    %jmp T_11.4;
T_11.2 ;
    %load/vec4 v0x10fe3b430_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.8, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x10fe3b5f0_0, 0, 2;
T_11.8 ;
    %jmp T_11.4;
T_11.4 ;
    %pop/vec4 1;
    %jmp T_11;
    .thread T_11, $push;
    .scope S_0x10fe376e0;
T_12 ;
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3ab90_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a2b0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a6b0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe3a520_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe3a600_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3b050_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x10fe3b3a0_0, 0;
    %jmp T_12.1;
T_12.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a2b0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3b050_0, 0;
    %load/vec4 v0x10fe3b550_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_12.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_12.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_12.4, 6;
    %jmp T_12.5;
T_12.2 ;
    %load/vec4 v0x10fe3aaf0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.6, 8;
    %load/vec4 v0x10fe3aa40_0;
    %assign/vec4 v0x10fe3b3a0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3a2b0_0, 0;
T_12.6 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x10fe3a6b0_0, 0;
    %jmp T_12.5;
T_12.3 ;
    %load/vec4 v0x10fe3b3a0_0;
    %assign/vec4 v0x10fe3af10_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3b050_0, 0;
    %load/vec4 v0x10fe3b3a0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 0, 0, 8;
    %jmp/1 T_12.12, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x10fe3b3a0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 4, 0, 8;
    %flag_or 4, 8;
T_12.12;
    %jmp/1 T_12.11, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x10fe3b3a0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 8, 0, 8;
    %flag_or 4, 8;
T_12.11;
    %jmp/1 T_12.10, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x10fe3b3a0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 12, 0, 8;
    %flag_or 4, 8;
T_12.10;
    %jmp/0xz  T_12.8, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x10fe3a600_0, 0;
    %jmp T_12.9;
T_12.8 ;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x10fe3a600_0, 0;
T_12.9 ;
    %jmp T_12.5;
T_12.4 ;
    %load/vec4 v0x10fe3afc0_0;
    %assign/vec4 v0x10fe3a520_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x10fe3a6b0_0, 0;
    %jmp T_12.5;
T_12.5 ;
    %pop/vec4 1;
T_12.1 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x10fe2a580;
T_13 ;
    %delay 5000, 0;
    %load/vec4 v0x10fe3bf00_0;
    %inv;
    %store/vec4 v0x10fe3bf00_0, 0, 1;
    %jmp T_13;
    .thread T_13;
    .scope S_0x10fe2a580;
T_14 ;
    %vpi_call/w 3 127 "$dumpfile", "sims/encoder_axi_wave.vcd" {0 0 0};
    %vpi_call/w 3 128 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x10fe2a580 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3bf00_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c110_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe3c1e0_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c340_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe3cb00_0, 0, 32;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x10fe3cc20_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3ccb0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c3f0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe3bf90_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c060_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c7f0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %delay 20000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c110_0, 0, 1;
    %delay 20000, 0;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 151 "$display", "\012=== Test 1: Read STATUS register (initial) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 155 "$display", "\012=== Test 2: Read POSITION register (initial) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 159 "$display", "\012=== Test 3: Read CTRL register (initial) ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 163 "$display", "\012=== Test 4: Write to CTRL to enable encoder ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe37570_0, 0, 32;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x10fe37630_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_write, S_0x10fe37300;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 167 "$display", "\012=== Test 5: Read back CTRL register ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 171 "$display", "\012=== Test 6: Generate forward encoder movement ===" {0 0 0};
    %pushi/vec4 5, 0, 32;
T_14.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_14.1, 5;
    %jmp/1 T_14.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 1, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 3, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 2, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %jmp T_14.0;
T_14.1 ;
    %pop/vec4 1;
    %wait E_0x10fe219d0;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 183 "$display", "\012=== Test 7: Read POSITION (should be 20 decimal) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 187 "$display", "\012=== Test 8: Read STATUS/direction (should be forward=1) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 191 "$display", "\012=== Test 9: Generate backward encoder movement ===" {0 0 0};
    %pushi/vec4 10, 0, 32;
T_14.2 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_14.3, 5;
    %jmp/1 T_14.3, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 2, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 3, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 1, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x10fe3c6b0_0, 0, 1;
    %store/vec4 v0x10fe3c620_0, 0, 1;
    %jmp T_14.2;
T_14.3 ;
    %pop/vec4 1;
    %wait E_0x10fe219d0;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 202 "$display", "\012=== Test 10: Read POSITION (should be -20 decimal) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 206 "$display", "\012=== Test 11: Read STATUS/direction (should be backward=0) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 210 "$display", "\012=== Test 12: Write to clear position ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe37570_0, 0, 32;
    %pushi/vec4 3, 0, 32;
    %store/vec4 v0x10fe37630_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_write, S_0x10fe37300;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 214 "$display", "\012=== Test 13: Read POSITION (should be 0 after clear) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 218 "$display", "\012=== Test 14: Try to write to read-only STATUS register (should get SLVERR) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x10fe37570_0, 0, 32;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x10fe37630_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_write, S_0x10fe37300;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 222 "$display", "\012=== Test 15: Try to read from invalid address (should get SLVERR) ===" {0 0 0};
    %pushi/vec4 255, 0, 32;
    %store/vec4 v0x10fe21680_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x10fe2a6f0;
    %join;
    %wait E_0x10fe219d0;
    %vpi_call/w 3 226 "$display", "\012=== Test 17: ARBITRATION - Attempt simultaneous read and write ===" {0 0 0};
    %wait E_0x10fe219d0;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x10fe3c1e0_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c340_0, 0, 1;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x10fe3cb00_0, 0, 32;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x10fe3cc20_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3ccb0_0, 0, 1;
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x10fe3bf90_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c060_0, 0, 1;
    %vpi_call/w 3 239 "$display", "Simultaneous requests issued:" {0 0 0};
    %vpi_call/w 3 240 "$display", "  Write request: addr=0x00, data=0x00000001" {0 0 0};
    %vpi_call/w 3 241 "$display", "  Read request: addr=0x08" {0 0 0};
    %wait E_0x10fe219d0;
    %load/vec4 v0x10fe3c290_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_14.7, 10;
    %load/vec4 v0x10fe3cb90_0;
    %and;
T_14.7;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.6, 9;
    %load/vec4 v0x10fe37e80_0;
    %nor/r;
    %and;
T_14.6;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.4, 8;
    %vpi_call/w 3 246 "$display", "  -> Write accepted first, read waiting (CORRECT - arbitration working)" {0 0 0};
    %jmp T_14.5;
T_14.4 ;
    %load/vec4 v0x10fe37e80_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.10, 9;
    %load/vec4 v0x10fe3c290_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.11, 9;
    %load/vec4 v0x10fe3cb90_0;
    %and;
T_14.11;
    %nor/r;
    %and;
T_14.10;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.8, 8;
    %vpi_call/w 3 248 "$display", "  -> Read accepted first, write waiting (CORRECT - arbitration working)" {0 0 0};
    %jmp T_14.9;
T_14.8 ;
    %load/vec4 v0x10fe3c290_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_14.15, 10;
    %load/vec4 v0x10fe3cb90_0;
    %and;
T_14.15;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.14, 9;
    %load/vec4 v0x10fe37e80_0;
    %and;
T_14.14;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.12, 8;
    %vpi_call/w 3 250 "$display", "  -> BOTH accepted simultaneously (ERROR - arbitration failed!)" {0 0 0};
T_14.12 ;
T_14.9 ;
T_14.5 ;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c340_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3ccb0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c060_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c3f0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x10fe3c7f0_0, 0, 1;
    %delay 100000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c3f0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x10fe3c7f0_0, 0, 1;
    %vpi_call/w 3 265 "$display", "\012=== All tests complete ===" {0 0 0};
    %delay 100000, 0;
    %vpi_call/w 3 267 "$finish" {0 0 0};
    %end;
    .thread T_14;
# The file index is used to find the file name in the following table.
:file_names 7;
    "N/A";
    "<interactive>";
    "-";
    "testbenches/tb_encoder_axi.v";
    "rtl/encoder_axi.v";
    "rtl/encoder_mmio.v";
    "rtl/encoder_core.v";
