#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2009.vpi";
S_0x133f29360 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x133f294d0 .scope module, "tb_encoder_axi" "tb_encoder_axi" 3 3;
 .timescale -9 -12;
v0x133f726f0_0 .var "aclk", 0 0;
v0x133f72780_0 .var "ar_addr", 31 0;
v0x133f6e300_0 .net "ar_ready", 0 0, v0x133f70730_0;  1 drivers
v0x133f72850_0 .var "ar_valid", 0 0;
v0x133f72900_0 .var "aresetn", 0 0;
v0x133f729d0_0 .var "aw_addr", 31 0;
v0x133f72a80_0 .net "aw_ready", 0 0, v0x133f707e0_0;  1 drivers
v0x133f72b30_0 .var "aw_valid", 0 0;
v0x133f72be0_0 .var "b_ready", 0 0;
v0x133f72cf0_0 .net "b_resp", 1 0, v0x133f70880_0;  1 drivers
v0x133f72d80_0 .net "b_valid", 0 0, v0x133f70910_0;  1 drivers
v0x133f72e10_0 .var "enc_a", 0 0;
v0x133f72ea0_0 .var "enc_b", 0 0;
v0x133f72f30_0 .net "r_data", 31 0, v0x133f709a0_0;  1 drivers
v0x133f72fe0_0 .var "r_ready", 0 0;
v0x133f73090_0 .net "r_resp", 1 0, v0x133f70a80_0;  1 drivers
v0x133f73140_0 .net "r_valid", 0 0, v0x133f70b30_0;  1 drivers
v0x133f732f0_0 .var "w_data", 31 0;
v0x133f73380_0 .net "w_ready", 0 0, v0x133f70bd0_0;  1 drivers
v0x133f73410_0 .var "w_strb", 3 0;
v0x133f734a0_0 .var "w_valid", 0 0;
S_0x133f0dfa0 .scope task, "axi_read" "axi_read" 3 101, 3 101 0, S_0x133f294d0;
 .timescale -9 -12;
v0x133f5b620_0 .var "addr", 31 0;
v0x133f6d5a0_0 .var "data_captured", 31 0;
v0x133f6d640_0 .var "resp_captured", 1 0;
E_0x133f07330 .event posedge, v0x133f6f420_0;
TD_tb_encoder_axi.axi_read ;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %load/vec4 v0x133f5b620_0;
    %store/vec4 v0x133f72780_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72850_0, 0, 1;
T_0.0 ;
    %load/vec4 v0x133f72850_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_0.2, 9;
    %load/vec4 v0x133f6e300_0;
    %and;
T_0.2;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz T_0.1, 8;
    %wait E_0x133f07330;
    %jmp T_0.0;
T_0.1 ;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72850_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72fe0_0, 0, 1;
T_0.3 ;
    %load/vec4 v0x133f73140_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_0.5, 9;
    %load/vec4 v0x133f72fe0_0;
    %and;
T_0.5;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz T_0.4, 8;
    %wait E_0x133f07330;
    %jmp T_0.3;
T_0.4 ;
    %load/vec4 v0x133f72f30_0;
    %store/vec4 v0x133f6d5a0_0, 0, 32;
    %load/vec4 v0x133f73090_0;
    %store/vec4 v0x133f6d640_0, 0, 2;
    %wait E_0x133f07330;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72fe0_0, 0, 1;
    %load/vec4 v0x133f6d640_0;
    %cmpi/e 0, 0, 2;
    %flag_mov 8, 4;
    %jmp/0 T_0.6, 8;
    %pushi/vec4 20299, 0, 32; draw_string_vec4
    %pushi/vec4 16729, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_0.7, 8;
T_0.6 ; End of true expr.
    %pushi/vec4 1397511749, 0, 32; draw_string_vec4
    %pushi/vec4 21074, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_0.7, 8;
 ; End of false expr.
    %blend;
T_0.7;
    %vpi_call/w 3 129 "$display", "AXI READ: addr=0x%h, data=0x%h, resp=%s", v0x133f5b620_0, v0x133f6d5a0_0, S<0,vec4,u48> {1 0 0};
    %end;
S_0x133f6d6f0 .scope task, "axi_write" "axi_write" 3 69, 3 69 0, S_0x133f294d0;
 .timescale -9 -12;
v0x133f6d960_0 .var "addr", 31 0;
v0x133f6da20_0 .var "data", 31 0;
E_0x133f6d8c0 .event anyedge, v0x133f70910_0;
E_0x133f6d910 .event anyedge, v0x133f707e0_0, v0x133f70bd0_0;
TD_tb_encoder_axi.axi_write ;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %load/vec4 v0x133f6d960_0;
    %store/vec4 v0x133f729d0_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72b30_0, 0, 1;
    %load/vec4 v0x133f6da20_0;
    %store/vec4 v0x133f732f0_0, 0, 32;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x133f73410_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f734a0_0, 0, 1;
T_1.8 ;
    %load/vec4 v0x133f72a80_0;
    %flag_set/vec4 8;
    %flag_get/vec4 8;
    %jmp/0 T_1.10, 8;
    %load/vec4 v0x133f73380_0;
    %and;
T_1.10;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_1.9, 6;
    %wait E_0x133f6d910;
    %jmp T_1.8;
T_1.9 ;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72b30_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f734a0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72be0_0, 0, 1;
T_1.11 ;
    %load/vec4 v0x133f72d80_0;
    %cmpi/ne 1, 0, 1;
    %jmp/0xz T_1.12, 6;
    %wait E_0x133f6d8c0;
    %jmp T_1.11;
T_1.12 ;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72be0_0, 0, 1;
    %load/vec4 v0x133f72cf0_0;
    %cmpi/e 0, 0, 2;
    %flag_mov 8, 4;
    %jmp/0 T_1.13, 8;
    %pushi/vec4 20299, 0, 32; draw_string_vec4
    %pushi/vec4 16729, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/1 T_1.14, 8;
T_1.13 ; End of true expr.
    %pushi/vec4 1397511749, 0, 32; draw_string_vec4
    %pushi/vec4 21074, 0, 16; draw_string_vec4
    %concat/vec4; draw_string_vec4
    %jmp/0 T_1.14, 8;
 ; End of false expr.
    %blend;
T_1.14;
    %vpi_call/w 3 95 "$display", "AXI WRITE: addr=0x%h, data=0x%h, resp=%s", v0x133f6d960_0, v0x133f6da20_0, S<0,vec4,u48> {1 0 0};
    %end;
S_0x133f6dad0 .scope module, "dut" "encoder_axi" 3 41, 4 8 0, S_0x133f294d0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "aclk";
    .port_info 1 /INPUT 1 "aresetn";
    .port_info 2 /INPUT 1 "enc_a";
    .port_info 3 /INPUT 1 "enc_b";
    .port_info 4 /INPUT 32 "aw_addr";
    .port_info 5 /INPUT 1 "aw_valid";
    .port_info 6 /OUTPUT 1 "AW_READY";
    .port_info 7 /INPUT 32 "w_data";
    .port_info 8 /INPUT 4 "w_strb";
    .port_info 9 /INPUT 1 "w_valid";
    .port_info 10 /OUTPUT 1 "W_READY";
    .port_info 11 /OUTPUT 2 "B_RESP";
    .port_info 12 /OUTPUT 1 "B_VALID";
    .port_info 13 /INPUT 1 "b_ready";
    .port_info 14 /INPUT 32 "ar_addr";
    .port_info 15 /INPUT 1 "ar_valid";
    .port_info 16 /OUTPUT 1 "AR_READY";
    .port_info 17 /OUTPUT 32 "R_DATA";
    .port_info 18 /OUTPUT 2 "R_RESP";
    .port_info 19 /OUTPUT 1 "R_VALID";
    .port_info 20 /INPUT 1 "r_ready";
P_0x133f6dcb0 .param/l "RESP_DECERR" 1 4 49, C4<11>;
P_0x133f6dcf0 .param/l "RESP_EXOKAY" 1 4 47, C4<01>;
P_0x133f6dd30 .param/l "RESP_OKAY" 1 4 46, C4<00>;
P_0x133f6dd70 .param/l "RESP_SLVERR" 1 4 48, C4<10>;
P_0x133f6ddb0 .param/l "r_s_idle" 1 4 191, C4<00>;
P_0x133f6ddf0 .param/l "r_s_issue_read" 1 4 192, C4<01>;
P_0x133f6de30 .param/l "r_s_resp" 1 4 194, C4<11>;
P_0x133f6de70 .param/l "r_s_wait_data" 1 4 193, C4<10>;
P_0x133f6deb0 .param/l "w_s_idle" 1 4 84, C4<00>;
P_0x133f6def0 .param/l "w_s_response" 1 4 86, C4<10>;
P_0x133f6df30 .param/l "w_s_write" 1 4 85, C4<01>;
L_0x133f73820 .functor NOT 1, v0x133f72900_0, C4<0>, C4<0>, C4<0>;
v0x133f70730_0 .var "AR_READY", 0 0;
v0x133f707e0_0 .var "AW_READY", 0 0;
v0x133f70880_0 .var "B_RESP", 1 0;
v0x133f70910_0 .var "B_VALID", 0 0;
v0x133f709a0_0 .var "R_DATA", 31 0;
v0x133f70a80_0 .var "R_RESP", 1 0;
v0x133f70b30_0 .var "R_VALID", 0 0;
v0x133f70bd0_0 .var "W_READY", 0 0;
L_0x138088010 .functor BUFT 1, C4<00000000000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v0x133f70c70_0 .net/2u *"_ivl_0", 31 0, L_0x138088010;  1 drivers
L_0x1380880a0 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x133f70d80_0 .net/2u *"_ivl_12", 1 0, L_0x1380880a0;  1 drivers
v0x133f70e30_0 .net *"_ivl_2", 31 0, L_0x133f73580;  1 drivers
L_0x138088058 .functor BUFT 1, C4<00>, C4<0>, C4<0>, C4<0>;
v0x133f70ee0_0 .net/2u *"_ivl_8", 1 0, L_0x138088058;  1 drivers
v0x133f70f90_0 .net "aclk", 0 0, v0x133f726f0_0;  1 drivers
v0x133f71020_0 .net "ar_addr", 31 0, v0x133f72780_0;  1 drivers
v0x133f710d0_0 .net "ar_valid", 0 0, v0x133f72850_0;  1 drivers
v0x133f71170_0 .net "aresetn", 0 0, v0x133f72900_0;  1 drivers
v0x133f71210_0 .net "aw_addr", 31 0, v0x133f729d0_0;  1 drivers
v0x133f713a0_0 .net "aw_valid", 0 0, v0x133f72b30_0;  1 drivers
v0x133f71440_0 .net "b_ready", 0 0, v0x133f72be0_0;  1 drivers
v0x133f714e0_0 .net "bus_addr", 31 0, L_0x133f736c0;  1 drivers
v0x133f715a0_0 .net "bus_rdata", 31 0, v0x133f6fde0_0;  1 drivers
v0x133f71630_0 .var "bus_re", 0 0;
v0x133f716c0_0 .var "bus_wdata", 31 0;
v0x133f71750_0 .var "bus_we", 0 0;
v0x133f717e0_0 .net "enc_a", 0 0, v0x133f72e10_0;  1 drivers
v0x133f718b0_0 .net "enc_b", 0 0, v0x133f72ea0_0;  1 drivers
v0x133f71980_0 .var "r_addr_latched", 31 0;
v0x133f71a10_0 .var "r_bus_addr", 31 0;
v0x133f71aa0_0 .var "r_data_latched", 31 0;
v0x133f71b40_0 .net "r_ready", 0 0, v0x133f72fe0_0;  1 drivers
v0x133f71be0_0 .net "read_busy", 0 0, L_0x133f739f0;  1 drivers
v0x133f71c80_0 .var "read_state", 1 0;
v0x133f71d30_0 .var "read_state_next", 1 0;
v0x133f712c0_0 .var "w_addr_latched", 31 0;
v0x133f71fc0_0 .var "w_bus_addr", 31 0;
v0x133f72050_0 .net "w_data", 31 0, v0x133f732f0_0;  1 drivers
v0x133f720f0_0 .var "w_data_latched", 31 0;
v0x133f721a0_0 .net "w_strb", 3 0, v0x133f73410_0;  1 drivers
v0x133f72250_0 .net "w_valid", 0 0, v0x133f734a0_0;  1 drivers
v0x133f722f0_0 .net "write_busy", 0 0, L_0x133f73910;  1 drivers
v0x133f72390_0 .var "write_state", 1 0;
v0x133f72440_0 .var "write_state_next", 1 0;
E_0x133f6e590 .event anyedge, v0x133f71c80_0, v0x133f710d0_0, v0x133f722f0_0, v0x133f71b40_0;
E_0x133f6e5f0/0 .event anyedge, v0x133f72390_0, v0x133f713a0_0, v0x133f72250_0, v0x133f71be0_0;
E_0x133f6e5f0/1 .event anyedge, v0x133f71440_0;
E_0x133f6e5f0 .event/or E_0x133f6e5f0/0, E_0x133f6e5f0/1;
L_0x133f73580 .functor MUXZ 32, L_0x138088010, v0x133f71a10_0, v0x133f71630_0, C4<>;
L_0x133f736c0 .functor MUXZ 32, L_0x133f73580, v0x133f71fc0_0, v0x133f71750_0, C4<>;
L_0x133f73910 .cmp/ne 2, v0x133f72390_0, L_0x138088058;
L_0x133f739f0 .cmp/ne 2, v0x133f71c80_0, L_0x1380880a0;
S_0x133f6e660 .scope module, "mmio_inst" "encoder_mmio" 4 69, 5 1 0, S_0x133f6dad0;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 32 "bus_addr";
    .port_info 3 /INPUT 1 "bus_we";
    .port_info 4 /INPUT 1 "bus_re";
    .port_info 5 /INPUT 32 "bus_wdata";
    .port_info 6 /OUTPUT 32 "bus_rdata";
    .port_info 7 /INPUT 1 "enc_a";
    .port_info 8 /INPUT 1 "enc_b";
P_0x133f6e830 .param/l "CTRL_CLR_POS" 1 5 25, +C4<00000000000000000000000000000001>;
P_0x133f6e870 .param/l "CTRL_ENABLE" 1 5 24, +C4<00000000000000000000000000000000>;
P_0x133f6e8b0 .param/l "REG_CTRL" 1 5 18, C4<00000000000000000000000000000000>;
P_0x133f6e8f0 .param/l "REG_POSITION" 1 5 20, C4<00000000000000000000000000001000>;
P_0x133f6e930 .param/l "REG_STATUS" 1 5 19, C4<00000000000000000000000000000100>;
P_0x133f6e970 .param/l "REG_VELOCITY" 1 5 21, C4<00000000000000000000000000001100>;
v0x133f6fd50_0 .net "bus_addr", 31 0, L_0x133f736c0;  alias, 1 drivers
v0x133f6fde0_0 .var "bus_rdata", 31 0;
v0x133f6fe70_0 .net "bus_re", 0 0, v0x133f71630_0;  1 drivers
v0x133f6ff00_0 .net "bus_wdata", 31 0, v0x133f716c0_0;  1 drivers
v0x133f6ff90_0 .net "bus_we", 0 0, v0x133f71750_0;  1 drivers
v0x133f70070_0 .net "clk", 0 0, v0x133f726f0_0;  alias, 1 drivers
v0x133f70100_0 .var "clr_pos_pulse", 0 0;
v0x133f701b0_0 .net "direction", 0 0, v0x133f6f580_0;  1 drivers
v0x133f70260_0 .var "enable_reg", 0 0;
v0x133f70370_0 .net "enc_a", 0 0, v0x133f72e10_0;  alias, 1 drivers
v0x133f70400_0 .net "enc_b", 0 0, v0x133f72ea0_0;  alias, 1 drivers
v0x133f70490_0 .net/s "position", 31 0, v0x133f6f860_0;  1 drivers
v0x133f70540_0 .net "reset", 0 0, L_0x133f73820;  1 drivers
v0x133f705f0_0 .net/s "velocity", 31 0, v0x133f6fb10_0;  1 drivers
S_0x133f6eda0 .scope module, "dut" "encoder_core" 5 37, 6 1 0, S_0x133f6e660;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 1 "clr_pos";
    .port_info 3 /INPUT 1 "enable";
    .port_info 4 /INPUT 1 "enc_a";
    .port_info 5 /INPUT 1 "enc_b";
    .port_info 6 /OUTPUT 32 "position";
    .port_info 7 /OUTPUT 32 "velocity";
    .port_info 8 /OUTPUT 1 "direction";
P_0x133f6ef70 .param/l "WINDOW_CYCLES" 0 6 2, +C4<00000101111101011110000100000000>;
v0x133f6f1a0_0 .var "ab_curr", 1 0;
v0x133f6f260_0 .var "ab_prev", 1 0;
v0x133f6f300_0 .var "ab_sync1", 1 0;
v0x133f6f390_0 .var "ab_sync2", 1 0;
v0x133f6f420_0 .net "clk", 0 0, v0x133f726f0_0;  alias, 1 drivers
v0x133f6f4f0_0 .net "clr_pos", 0 0, v0x133f70100_0;  1 drivers
v0x133f6f580_0 .var "direction", 0 0;
v0x133f6f620_0 .net "enable", 0 0, v0x133f70260_0;  1 drivers
v0x133f6f6c0_0 .net "enc_a", 0 0, v0x133f72e10_0;  alias, 1 drivers
v0x133f6f7d0_0 .net "enc_b", 0 0, v0x133f72ea0_0;  alias, 1 drivers
v0x133f6f860_0 .var/s "position", 31 0;
v0x133f6f910_0 .var/s "position_prev_window", 31 0;
v0x133f6f9c0_0 .net "reset", 0 0, L_0x133f73820;  alias, 1 drivers
v0x133f6fa60_0 .var/s "step", 1 0;
v0x133f6fb10_0 .var/s "velocity", 31 0;
v0x133f6fbc0_0 .var "window_ctr", 31 0;
E_0x133f6f140 .event anyedge, v0x133f6f260_0, v0x133f6f1a0_0;
    .scope S_0x133f6eda0;
T_2 ;
    %wait E_0x133f6f140;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %load/vec4 v0x133f6f260_0;
    %load/vec4 v0x133f6f1a0_0;
    %concat/vec4; draw_concat_vec4
    %dup/vec4;
    %pushi/vec4 1, 0, 4;
    %cmp/u;
    %jmp/1 T_2.0, 6;
    %dup/vec4;
    %pushi/vec4 7, 0, 4;
    %cmp/u;
    %jmp/1 T_2.1, 6;
    %dup/vec4;
    %pushi/vec4 14, 0, 4;
    %cmp/u;
    %jmp/1 T_2.2, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 4;
    %cmp/u;
    %jmp/1 T_2.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 4;
    %cmp/u;
    %jmp/1 T_2.4, 6;
    %dup/vec4;
    %pushi/vec4 11, 0, 4;
    %cmp/u;
    %jmp/1 T_2.5, 6;
    %dup/vec4;
    %pushi/vec4 13, 0, 4;
    %cmp/u;
    %jmp/1 T_2.6, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 4;
    %cmp/u;
    %jmp/1 T_2.7, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.0 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.1 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.2 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.3 ;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.4 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.5 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.6 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.7 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x133f6fa60_0, 0, 2;
    %jmp T_2.9;
T_2.9 ;
    %pop/vec4 1;
    %jmp T_2;
    .thread T_2, $push;
    .scope S_0x133f6eda0;
T_3 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f6f9c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f6f300_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f6f390_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f6f260_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f6f1a0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fbc0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6f910_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fb10_0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/vec4 v0x133f6f6c0_0;
    %load/vec4 v0x133f6f7d0_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x133f6f300_0, 0;
    %load/vec4 v0x133f6f300_0;
    %assign/vec4 v0x133f6f390_0, 0;
    %load/vec4 v0x133f6f1a0_0;
    %assign/vec4 v0x133f6f260_0, 0;
    %load/vec4 v0x133f6f390_0;
    %assign/vec4 v0x133f6f1a0_0, 0;
    %load/vec4 v0x133f6f620_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.2, 8;
    %load/vec4 v0x133f6fbc0_0;
    %cmpi/e 99999999, 0, 32;
    %jmp/0xz  T_3.4, 4;
    %load/vec4 v0x133f6f860_0;
    %load/vec4 v0x133f6f910_0;
    %sub;
    %assign/vec4 v0x133f6fb10_0, 0;
    %load/vec4 v0x133f6f860_0;
    %assign/vec4 v0x133f6f910_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fbc0_0, 0;
    %jmp T_3.5;
T_3.4 ;
    %load/vec4 v0x133f6fbc0_0;
    %addi 1, 0, 32;
    %assign/vec4 v0x133f6fbc0_0, 0;
T_3.5 ;
T_3.2 ;
T_3.1 ;
    %jmp T_3;
    .thread T_3;
    .scope S_0x133f6eda0;
T_4 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f6f9c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6f860_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f6f580_0, 0;
    %jmp T_4.1;
T_4.0 ;
    %load/vec4 v0x133f6f4f0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.2, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6f860_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f6f580_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fb10_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fbc0_0, 0;
    %jmp T_4.3;
T_4.2 ;
    %load/vec4 v0x133f6f620_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.4, 8;
    %load/vec4 v0x133f6f860_0;
    %load/vec4 v0x133f6fa60_0;
    %pad/s 32;
    %add;
    %assign/vec4 v0x133f6f860_0, 0;
    %load/vec4 v0x133f6fa60_0;
    %pad/s 32;
    %cmpi/e 1, 0, 32;
    %jmp/0xz  T_4.6, 4;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f6f580_0, 0;
    %jmp T_4.7;
T_4.6 ;
    %load/vec4 v0x133f6fa60_0;
    %pad/s 32;
    %cmpi/e 4294967295, 0, 32;
    %jmp/0xz  T_4.8, 4;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f6f580_0, 0;
T_4.8 ;
T_4.7 ;
T_4.4 ;
T_4.3 ;
T_4.1 ;
    %jmp T_4;
    .thread T_4;
    .scope S_0x133f6e660;
T_5 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f70540_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70260_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70100_0, 0;
    %jmp T_5.1;
T_5.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70100_0, 0;
    %load/vec4 v0x133f6ff90_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.2, 8;
    %load/vec4 v0x133f6fd50_0;
    %parti/s 8, 0, 2;
    %cmpi/e 0, 0, 8;
    %jmp/0xz  T_5.4, 4;
    %load/vec4 v0x133f6ff00_0;
    %parti/s 1, 0, 2;
    %assign/vec4 v0x133f70260_0, 0;
    %load/vec4 v0x133f6ff00_0;
    %parti/s 1, 1, 2;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.6, 8;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f70100_0, 0;
T_5.6 ;
T_5.4 ;
T_5.2 ;
T_5.1 ;
    %jmp T_5;
    .thread T_5;
    .scope S_0x133f6e660;
T_6 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f70540_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fde0_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x133f6fe70_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.2, 8;
    %load/vec4 v0x133f6fd50_0;
    %parti/s 8, 0, 2;
    %dup/vec4;
    %pushi/vec4 0, 0, 8;
    %cmp/u;
    %jmp/1 T_6.4, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 8;
    %cmp/u;
    %jmp/1 T_6.5, 6;
    %dup/vec4;
    %pushi/vec4 8, 0, 8;
    %cmp/u;
    %jmp/1 T_6.6, 6;
    %dup/vec4;
    %pushi/vec4 12, 0, 8;
    %cmp/u;
    %jmp/1 T_6.7, 6;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f6fde0_0, 0;
    %jmp T_6.9;
T_6.4 ;
    %pushi/vec4 0, 0, 30;
    %concati/vec4 0, 0, 1;
    %load/vec4 v0x133f70260_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x133f6fde0_0, 0;
    %jmp T_6.9;
T_6.5 ;
    %pushi/vec4 0, 0, 31;
    %load/vec4 v0x133f701b0_0;
    %concat/vec4; draw_concat_vec4
    %assign/vec4 v0x133f6fde0_0, 0;
    %jmp T_6.9;
T_6.6 ;
    %load/vec4 v0x133f70490_0;
    %assign/vec4 v0x133f6fde0_0, 0;
    %jmp T_6.9;
T_6.7 ;
    %load/vec4 v0x133f705f0_0;
    %assign/vec4 v0x133f6fde0_0, 0;
    %jmp T_6.9;
T_6.9 ;
    %pop/vec4 1;
T_6.2 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x133f6dad0;
T_7 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f71170_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f72390_0, 0;
    %jmp T_7.1;
T_7.0 ;
    %load/vec4 v0x133f72440_0;
    %assign/vec4 v0x133f72390_0, 0;
T_7.1 ;
    %jmp T_7;
    .thread T_7;
    .scope S_0x133f6dad0;
T_8 ;
    %wait E_0x133f6e5f0;
    %load/vec4 v0x133f72390_0;
    %store/vec4 v0x133f72440_0, 0, 2;
    %load/vec4 v0x133f72390_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_8.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_8.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_8.2, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x133f72440_0, 0, 2;
    %jmp T_8.4;
T_8.0 ;
    %load/vec4 v0x133f713a0_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_8.8, 10;
    %load/vec4 v0x133f72250_0;
    %and;
T_8.8;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_8.7, 9;
    %load/vec4 v0x133f71be0_0;
    %inv;
    %and;
T_8.7;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.5, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x133f72440_0, 0, 2;
T_8.5 ;
    %jmp T_8.4;
T_8.1 ;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x133f72440_0, 0, 2;
    %jmp T_8.4;
T_8.2 ;
    %load/vec4 v0x133f71440_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.9, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x133f72440_0, 0, 2;
T_8.9 ;
    %jmp T_8.4;
T_8.4 ;
    %pop/vec4 1;
    %jmp T_8;
    .thread T_8, $push;
    .scope S_0x133f6dad0;
T_9 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f71170_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f707e0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70bd0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70910_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f70880_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f71750_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f712c0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f720f0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f71fc0_0, 0;
    %jmp T_9.1;
T_9.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f707e0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70bd0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f71750_0, 0;
    %load/vec4 v0x133f72390_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_9.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_9.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_9.4, 6;
    %jmp T_9.5;
T_9.2 ;
    %load/vec4 v0x133f713a0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_9.8, 9;
    %load/vec4 v0x133f72250_0;
    %and;
T_9.8;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.6, 8;
    %load/vec4 v0x133f71210_0;
    %assign/vec4 v0x133f712c0_0, 0;
    %load/vec4 v0x133f72050_0;
    %assign/vec4 v0x133f720f0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f707e0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f70bd0_0, 0;
T_9.6 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70910_0, 0;
    %jmp T_9.5;
T_9.3 ;
    %load/vec4 v0x133f712c0_0;
    %assign/vec4 v0x133f71fc0_0, 0;
    %load/vec4 v0x133f720f0_0;
    %assign/vec4 v0x133f716c0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f71750_0, 0;
    %load/vec4 v0x133f712c0_0;
    %parti/s 8, 0, 2;
    %cmpi/e 0, 0, 8;
    %jmp/0xz  T_9.9, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f70880_0, 0;
    %jmp T_9.10;
T_9.9 ;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x133f70880_0, 0;
T_9.10 ;
    %jmp T_9.5;
T_9.4 ;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f70910_0, 0;
    %jmp T_9.5;
T_9.5 ;
    %pop/vec4 1;
T_9.1 ;
    %jmp T_9;
    .thread T_9;
    .scope S_0x133f6dad0;
T_10 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f71170_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_10.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f71c80_0, 0;
    %jmp T_10.1;
T_10.0 ;
    %load/vec4 v0x133f71d30_0;
    %assign/vec4 v0x133f71c80_0, 0;
T_10.1 ;
    %jmp T_10;
    .thread T_10;
    .scope S_0x133f6dad0;
T_11 ;
    %wait E_0x133f6e590;
    %load/vec4 v0x133f71c80_0;
    %store/vec4 v0x133f71d30_0, 0, 2;
    %load/vec4 v0x133f71c80_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_11.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_11.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_11.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_11.3, 6;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x133f71d30_0, 0, 2;
    %jmp T_11.5;
T_11.0 ;
    %load/vec4 v0x133f710d0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_11.8, 9;
    %load/vec4 v0x133f722f0_0;
    %inv;
    %and;
T_11.8;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.6, 8;
    %pushi/vec4 1, 0, 2;
    %store/vec4 v0x133f71d30_0, 0, 2;
T_11.6 ;
    %jmp T_11.5;
T_11.1 ;
    %pushi/vec4 2, 0, 2;
    %store/vec4 v0x133f71d30_0, 0, 2;
    %jmp T_11.5;
T_11.2 ;
    %pushi/vec4 3, 0, 2;
    %store/vec4 v0x133f71d30_0, 0, 2;
    %jmp T_11.5;
T_11.3 ;
    %load/vec4 v0x133f71b40_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.9, 8;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x133f71d30_0, 0, 2;
T_11.9 ;
    %jmp T_11.5;
T_11.5 ;
    %pop/vec4 1;
    %jmp T_11;
    .thread T_11, $push;
    .scope S_0x133f6dad0;
T_12 ;
    %wait E_0x133f07330;
    %load/vec4 v0x133f71170_0;
    %inv;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.0, 8;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70730_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70b30_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f709a0_0, 0;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f70a80_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f71630_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f71980_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f71aa0_0, 0;
    %pushi/vec4 0, 0, 32;
    %assign/vec4 v0x133f71a10_0, 0;
    %jmp T_12.1;
T_12.0 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70730_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f71630_0, 0;
    %load/vec4 v0x133f71c80_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 2;
    %cmp/u;
    %jmp/1 T_12.2, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 2;
    %cmp/u;
    %jmp/1 T_12.3, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 2;
    %cmp/u;
    %jmp/1 T_12.4, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 2;
    %cmp/u;
    %jmp/1 T_12.5, 6;
    %jmp T_12.6;
T_12.2 ;
    %load/vec4 v0x133f710d0_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_12.9, 9;
    %load/vec4 v0x133f722f0_0;
    %inv;
    %and;
T_12.9;
    %flag_set/vec4 8;
    %jmp/0xz  T_12.7, 8;
    %load/vec4 v0x133f71020_0;
    %assign/vec4 v0x133f71980_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f70730_0, 0;
T_12.7 ;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x133f70b30_0, 0;
    %jmp T_12.6;
T_12.3 ;
    %load/vec4 v0x133f71980_0;
    %assign/vec4 v0x133f71a10_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f71630_0, 0;
    %load/vec4 v0x133f71980_0;
    %parti/s 8, 0, 2;
    %cmpi/e 0, 0, 8;
    %jmp/1 T_12.14, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x133f71980_0;
    %parti/s 8, 0, 2;
    %cmpi/e 4, 0, 8;
    %flag_or 4, 8;
T_12.14;
    %jmp/1 T_12.13, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x133f71980_0;
    %parti/s 8, 0, 2;
    %cmpi/e 8, 0, 8;
    %flag_or 4, 8;
T_12.13;
    %jmp/1 T_12.12, 4;
    %flag_mov 8, 4;
    %load/vec4 v0x133f71980_0;
    %parti/s 8, 0, 2;
    %cmpi/e 12, 0, 8;
    %flag_or 4, 8;
T_12.12;
    %jmp/0xz  T_12.10, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x133f70a80_0, 0;
    %jmp T_12.11;
T_12.10 ;
    %pushi/vec4 2, 0, 2;
    %assign/vec4 v0x133f70a80_0, 0;
T_12.11 ;
    %jmp T_12.6;
T_12.4 ;
    %jmp T_12.6;
T_12.5 ;
    %load/vec4 v0x133f715a0_0;
    %assign/vec4 v0x133f71aa0_0, 0;
    %load/vec4 v0x133f715a0_0;
    %assign/vec4 v0x133f709a0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x133f70b30_0, 0;
    %jmp T_12.6;
T_12.6 ;
    %pop/vec4 1;
T_12.1 ;
    %jmp T_12;
    .thread T_12;
    .scope S_0x133f294d0;
T_13 ;
    %delay 5000, 0;
    %load/vec4 v0x133f726f0_0;
    %inv;
    %store/vec4 v0x133f726f0_0, 0, 1;
    %jmp T_13;
    .thread T_13;
    .scope S_0x133f294d0;
T_14 ;
    %vpi_call/w 3 136 "$dumpfile", "sims/encoder_axi_wave.vcd" {0 0 0};
    %vpi_call/w 3 137 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x133f294d0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f726f0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72900_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f729d0_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72b30_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f732f0_0, 0, 32;
    %pushi/vec4 0, 0, 4;
    %store/vec4 v0x133f73410_0, 0, 4;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f734a0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72be0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f72780_0, 0, 32;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72850_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72fe0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %delay 20000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72900_0, 0, 1;
    %delay 20000, 0;
    %wait E_0x133f07330;
    %vpi_call/w 3 160 "$display", "\012=== Test 1: Read STATUS register (initial) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 164 "$display", "\012=== Test 2: Read POSITION register (initial) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 168 "$display", "\012=== Test 3: Read CTRL register (initial) ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 172 "$display", "\012=== Test 4: Write to CTRL to enable encoder ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f6d960_0, 0, 32;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x133f6da20_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_write, S_0x133f6d6f0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 176 "$display", "\012=== Test 5: Read back CTRL register ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 180 "$display", "\012=== Test 6: Generate forward encoder movement ===" {0 0 0};
    %pushi/vec4 5, 0, 32;
T_14.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_14.1, 5;
    %jmp/1 T_14.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 1, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 3, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 2, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %jmp T_14.0;
T_14.1 ;
    %pop/vec4 1;
    %wait E_0x133f07330;
    %wait E_0x133f07330;
    %vpi_call/w 3 192 "$display", "\012=== Test 7: Read POSITION (should be 20 decimal) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 196 "$display", "\012=== Test 8: Read STATUS/direction (should be forward=1) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 200 "$display", "\012=== Test 9: Generate backward encoder movement ===" {0 0 0};
    %pushi/vec4 10, 0, 32;
T_14.2 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_14.3, 5;
    %jmp/1 T_14.3, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 2, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 3, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 1, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 2;
    %split/vec4 1;
    %store/vec4 v0x133f72ea0_0, 0, 1;
    %store/vec4 v0x133f72e10_0, 0, 1;
    %jmp T_14.2;
T_14.3 ;
    %pop/vec4 1;
    %wait E_0x133f07330;
    %wait E_0x133f07330;
    %vpi_call/w 3 211 "$display", "\012=== Test 10: Read POSITION (should be -20 decimal) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 215 "$display", "\012=== Test 11: Read STATUS/direction (should be backward=0) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 219 "$display", "\012=== Test 12: Write to clear position ===" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f6d960_0, 0, 32;
    %pushi/vec4 3, 0, 32;
    %store/vec4 v0x133f6da20_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_write, S_0x133f6d6f0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 223 "$display", "\012=== Test 13: Read POSITION (should be 0 after clear) ===" {0 0 0};
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 227 "$display", "\012=== Test 14: Try to write to read-only STATUS register (should get SLVERR) ===" {0 0 0};
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x133f6d960_0, 0, 32;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x133f6da20_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_write, S_0x133f6d6f0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 231 "$display", "\012=== Test 15: Try to read from invalid address (should get SLVERR) ===" {0 0 0};
    %pushi/vec4 255, 0, 32;
    %store/vec4 v0x133f5b620_0, 0, 32;
    %fork TD_tb_encoder_axi.axi_read, S_0x133f0dfa0;
    %join;
    %wait E_0x133f07330;
    %vpi_call/w 3 235 "$display", "\012=== Test 17: ARBITRATION - Attempt simultaneous read and write ===" {0 0 0};
    %wait E_0x133f07330;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x133f729d0_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72b30_0, 0, 1;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x133f732f0_0, 0, 32;
    %pushi/vec4 15, 0, 4;
    %store/vec4 v0x133f73410_0, 0, 4;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f734a0_0, 0, 1;
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x133f72780_0, 0, 32;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72850_0, 0, 1;
    %vpi_call/w 3 248 "$display", "Simultaneous requests issued:" {0 0 0};
    %vpi_call/w 3 249 "$display", "  Write request: addr=0x00, data=0x00000001" {0 0 0};
    %vpi_call/w 3 250 "$display", "  Read request: addr=0x08" {0 0 0};
    %wait E_0x133f07330;
    %load/vec4 v0x133f72a80_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_14.7, 10;
    %load/vec4 v0x133f73380_0;
    %and;
T_14.7;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.6, 9;
    %load/vec4 v0x133f6e300_0;
    %nor/r;
    %and;
T_14.6;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.4, 8;
    %vpi_call/w 3 255 "$display", "  -> Write accepted first, read waiting (CORRECT - arbitration working)" {0 0 0};
    %jmp T_14.5;
T_14.4 ;
    %load/vec4 v0x133f6e300_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.10, 9;
    %load/vec4 v0x133f72a80_0;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.11, 9;
    %load/vec4 v0x133f73380_0;
    %and;
T_14.11;
    %nor/r;
    %and;
T_14.10;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.8, 8;
    %vpi_call/w 3 257 "$display", "  -> Read accepted first, write waiting (CORRECT - arbitration working)" {0 0 0};
    %jmp T_14.9;
T_14.8 ;
    %load/vec4 v0x133f72a80_0;
    %flag_set/vec4 10;
    %flag_get/vec4 10;
    %jmp/0 T_14.15, 10;
    %load/vec4 v0x133f73380_0;
    %and;
T_14.15;
    %flag_set/vec4 9;
    %flag_get/vec4 9;
    %jmp/0 T_14.14, 9;
    %load/vec4 v0x133f6e300_0;
    %and;
T_14.14;
    %flag_set/vec4 8;
    %jmp/0xz  T_14.12, 8;
    %vpi_call/w 3 259 "$display", "  -> BOTH accepted simultaneously (ERROR - arbitration failed!)" {0 0 0};
T_14.12 ;
T_14.9 ;
T_14.5 ;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72b30_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f734a0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72850_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72be0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x133f72fe0_0, 0, 1;
    %delay 100000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72be0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x133f72fe0_0, 0, 1;
    %vpi_call/w 3 274 "$display", "\012=== All tests complete ===" {0 0 0};
    %delay 100000, 0;
    %vpi_call/w 3 276 "$finish" {0 0 0};
    %end;
    .thread T_14;
# The file index is used to find the file name in the following table.
:file_names 7;
    "N/A";
    "<interactive>";
    "-";
    "testbenches/tb_encoder_axi.v";
    "rtl/encoder_axi.v";
    "rtl/encoder_mmio.v";
    "rtl/encoder_core.v";
